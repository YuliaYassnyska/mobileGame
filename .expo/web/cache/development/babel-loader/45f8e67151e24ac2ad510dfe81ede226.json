{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/roman/mobileGame/components/Auth/SignUp.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport firebase from \"../firebase\";\n\nvar SignUp = function (_Component) {\n  _inherits(SignUp, _Component);\n\n  var _super = _createSuper(SignUp);\n\n  function SignUp() {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      name: '',\n      email: '',\n      password: '',\n      phone: '',\n      isLoading: false,\n      nameError: false,\n      emailError: false,\n      passwordError: false,\n      phoneError: false\n    };\n\n    _this.updateInputValue = function (val, prop) {\n      var state = _this.state;\n      state[prop] = val;\n\n      _this.setState(state);\n    };\n\n    _this.signup = function () {\n      var name = _this.nameValidation();\n\n      var phone = _this.phoneValidation();\n\n      var email = _this.emailVadidation();\n\n      var password = _this.passwordValidation();\n\n      if (name && phone && email && password) {\n        firebase.auth.createUserWithEmailAndPassword(_this.state.email, _this.state.password).then(function (res) {\n          res.user.updateProfile({\n            displayName: _this.state.name,\n            phone: _this.state.phone\n          });\n          console.log('User registered successfully!');\n\n          _this.setState({\n            isLoading: false,\n            displayName: '',\n            email: '',\n            password: ''\n          });\n\n          _this.props.navigation.navigate('Login');\n        }).catch(function (error) {\n          return _this.setState({\n            errorMessage: error.message\n          });\n        });\n      } else {\n        if (!email) {\n          _this.setState({\n            emailError: true\n          });\n        }\n\n        if (!password) {\n          _this.setState({\n            passwordError: true\n          });\n        }\n\n        if (!name) {\n          _this.setState({\n            nameError: true\n          });\n        }\n\n        if (!phone) {\n          _this.setState({\n            phoneError: true\n          });\n        }\n      }\n    };\n\n    _this.nameValidation = function () {\n      if (_this.state.name === '') {\n        _this.setState({\n          nameError: true\n        });\n\n        return false;\n      } else {\n        _this.setState({\n          nameError: false\n        });\n\n        return true;\n      }\n    };\n\n    _this.phoneValidation = function () {\n      if (_this.state.phone === '') {\n        _this.setState({\n          phoneError: true\n        });\n\n        return false;\n      }\n\n      var reg = /^[0-9\\b]+$/;\n\n      if (reg.test(_this.state.phone) === false) {\n        _this.setState({\n          phoneError: true\n        });\n\n        return false;\n      } else {\n        _this.setState({\n          phoneError: false\n        });\n\n        return true;\n      }\n    };\n\n    _this.emailVadidation = function () {\n      if (_this.state.email === '') {\n        _this.setState({\n          emailError: true\n        });\n\n        return false;\n      }\n\n      var reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n      if (reg.test(_this.state.email) === false) {\n        _this.setState({\n          emailError: true\n        });\n\n        return false;\n      } else {\n        _this.setState({\n          emailError: false\n        });\n\n        return true;\n      }\n    };\n\n    _this.passwordValidation = function () {\n      if (_this.state.password.length < 8) {\n        _this.setState({\n          passwordError: true\n        });\n\n        return false;\n      } else {\n        _this.setState({\n          passwordError: false\n        });\n\n        return true;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.isLoading) {\n        return React.createElement(View, {\n          style: styles.preloader,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }\n        }, React.createElement(ActivityIndicator, {\n          size: \"large\",\n          color: \"#9E9E9E\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }\n        }));\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, React.createElement(TextInput, {\n        style: styles.inputStyle,\n        placeholder: \"Name\",\n        value: this.state.displayName,\n        onChangeText: function onChangeText(val) {\n          return _this2.updateInputValue(val, 'name');\n        },\n        onBlur: function onBlur() {\n          return _this2.nameValidation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: styles.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, this.state.nameError ? 'Error with name' : ''), React.createElement(TextInput, {\n        style: styles.inputStyle,\n        placeholder: \"Phone\",\n        value: this.state.displayName,\n        onChangeText: function onChangeText(val) {\n          return _this2.updateInputValue(val, 'phone');\n        },\n        onBlur: function onBlur() {\n          return _this2.phoneValidation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: styles.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, this.state.phoneError ? 'Error with phone' : ''), React.createElement(TextInput, {\n        style: styles.inputStyle,\n        placeholder: \"Email\",\n        value: this.state.email,\n        onChangeText: function onChangeText(val) {\n          return _this2.updateInputValue(val, 'email');\n        },\n        onBlur: function onBlur() {\n          return _this2.emailVadidation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: styles.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      }, this.state.emailError ? 'Error with email' : ''), React.createElement(TextInput, {\n        style: styles.inputStyle,\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChangeText: function onChangeText(val) {\n          return _this2.updateInputValue(val, 'password');\n        },\n        maxLength: 15,\n        secureTextEntry: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: styles.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }\n      }, this.state.passwordError ? 'Error with password' : ''), React.createElement(Button, {\n        color: \"#ff5722\",\n        title: \"SignUp\",\n        onPress: function onPress() {\n          return _this2.signup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: styles.loginText,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Login');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }\n      }, \"Already Registered? Click here to login\"));\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport { SignUp as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    padding: 35,\n    backgroundColor: '#fff'\n  },\n  inputStyle: {\n    width: '100%',\n    marginBottom: 15,\n    paddingBottom: 15,\n    alignSelf: \"center\",\n    borderColor: \"#ccc\",\n    borderBottomWidth: 1\n  },\n  loginText: {\n    color: '#333333',\n    marginTop: 25,\n    textAlign: 'center'\n  },\n  preloader: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#fff'\n  },\n  error: {\n    fontSize: 10,\n    color: 'red',\n    marginBottom: 1\n  }\n});","map":{"version":3,"sources":["/home/roman/mobileGame/components/Auth/SignUp.js"],"names":["React","Component","firebase","SignUp","state","name","email","password","phone","isLoading","nameError","emailError","passwordError","phoneError","updateInputValue","val","prop","setState","signup","nameValidation","phoneValidation","emailVadidation","passwordValidation","auth","createUserWithEmailAndPassword","then","res","user","updateProfile","displayName","console","log","props","navigation","navigate","catch","error","errorMessage","message","reg","test","length","styles","preloader","container","inputStyle","loginText","StyleSheet","create","flex","display","flexDirection","justifyContent","padding","backgroundColor","width","marginBottom","paddingBottom","alignSelf","borderColor","borderBottomWidth","color","marginTop","textAlign","left","right","top","bottom","position","alignItems","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Text,StyleSheet,  View, TextInput, Button, Alert, ActivityIndicator } from 'react-native'\nimport firebase from '../firebase'\n\n\n\nexport default class SignUp extends Component {\n  \n    state = { \n      name: '',\n      email: '', \n      password: '',\n      phone: '', \n      isLoading: false, \n      nameError: false,\n      emailError: false,\n      passwordError: false,\n      phoneError: false \n    }\n\n    updateInputValue = (val, prop) => {\n      const state = this.state;\n      state[prop] = val;\n      this.setState(state);\n    }\n  \n    signup = () => {\n      const name = this.nameValidation()\n      const phone = this.phoneValidation()\n      const email = this.emailVadidation()\n      const password = this.passwordValidation()\n      if (name && phone && email && password) {\n        firebase\n        .auth\n        .createUserWithEmailAndPassword(this.state.email, this.state.password)\n        .then((res) => {\n          res.user.updateProfile({\n            displayName: this.state.name,\n            phone: this.state.phone\n          })\n          console.log('User registered successfully!');\n          this.setState({\n            isLoading: false,\n            displayName: '',\n            email: '', \n            password: '',\n          })\n          this.props.navigation.navigate('Login')\n        })\n        .catch(error => this.setState({ errorMessage: error.message }))      \n    } else {\n      if (!email) { this.setState({emailError: true})}\n      if (!password) { this.setState({passwordError: true})}\n      if (!name) { this.setState({nameError: true})}\n      if (!phone) { this.setState({phoneError: true})}\n    }\n  }\n      \n    nameValidation = () => {\n      if (this.state.name === '') {\n        this.setState({nameError: true})\n        return false\n      } else {\n        this.setState({nameError: false})\n        return true\n      }\n    }\n\n\n  phoneValidation = () => {\n    if (this.state.phone === '') {\n      this.setState({phoneError: true})\n      return false \n    } \n    let reg = /^[0-9\\b]+$/\n    if (reg.test(this.state.phone) === false) {\n      this.setState({phoneError: true})\n      return false\n    } else {\n      this.setState({phoneError: false})\n      return true\n    }\n  }\n\n    emailVadidation = () => {\n      if (this.state.email === '') {\n        this.setState({emailError: true})\n        return false \n      } \n      let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n      if (reg.test(this.state.email) === false) {\n        this.setState({emailError: true})\n        return false\n      } else {\n        this.setState({emailError: false})\n        return true\n        } \n    } \n    \n    passwordValidation = () => {\n      if (this.state.password.length < 8) {\n        this.setState({passwordError: true})\n        return false \n      } else {\n        this.setState({passwordError: false})\n        return true\n      }\n    }\n\n    render() {\n      if(this.state.isLoading){\n        return(\n          <View style={styles.preloader}>\n            <ActivityIndicator size=\"large\" color=\"#9E9E9E\"/>\n          </View>\n        )\n      }    \n      return (\n        <View style={styles.container}>  \n          <TextInput\n            style={styles.inputStyle}\n            placeholder=\"Name\"\n            value={this.state.displayName}\n            onChangeText={(val) => this.updateInputValue(val, 'name')}\n            onBlur={() => this.nameValidation()}\n          />\n          <Text\n            style={styles.error}>\n            {this.state.nameError ? 'Error with name' : ''}\n          </Text>\n          <TextInput\n            style={styles.inputStyle}\n            placeholder=\"Phone\"\n            value={this.state.displayName}\n            onChangeText={(val) => this.updateInputValue(val, 'phone')}\n            onBlur={() => this.phoneValidation()}\n          />\n          <Text\n            style={styles.error}>\n            {this.state.phoneError ? 'Error with phone' : ''}\n          </Text>       \n          <TextInput\n            style={styles.inputStyle}\n            placeholder=\"Email\"\n            value={this.state.email}\n            onChangeText={(val) => this.updateInputValue(val, 'email')}\n            onBlur={() => this.emailVadidation()}\n          />\n          <Text\n            style={styles.error}>\n            {this.state.emailError ? 'Error with email' : ''}\n          </Text>\n          <TextInput\n            style={styles.inputStyle}\n            placeholder=\"Password\"\n            value={this.state.password}\n            onChangeText={(val) => this.updateInputValue(val, 'password')}\n            maxLength={15}\n            secureTextEntry={true}\n            //onBlur={() => this.passwordValidation()}\n          />\n          <Text\n            style={styles.error}>\n            {this.state.passwordError ? 'Error with password' : ''}\n          </Text>   \n          <Button\n            color=\"#ff5722\"\n            title=\"SignUp\"\n            onPress={() => this.signup()}\n          />\n  \n          <Text \n            style={styles.loginText}\n            onPress={() => this.props.navigation.navigate('Login')}>\n            Already Registered? Click here to login\n          </Text>                           \n        </View>\n      );\n    }\n  }\n  \n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      padding: 35,\n      backgroundColor: '#fff'\n    },\n    inputStyle: {\n      width: '100%',\n      marginBottom: 15,\n      paddingBottom: 15,\n      alignSelf: \"center\",\n      borderColor: \"#ccc\",\n      borderBottomWidth: 1\n    },\n    loginText: {\n      color: '#333333',\n      marginTop: 25,\n      textAlign: 'center'\n    },\n\n    preloader: {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      position: 'absolute',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: '#fff'\n    },\n    error:{\n        fontSize:10,\n        color:'red',\n        marginBottom: 1\n    },\n\n  });\n\n"]},"metadata":{},"sourceType":"module"}